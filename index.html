<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>‚ù§Ô∏è Love Sudoku Puzzle ‚ù§Ô∏è</title>
<style>
body {
  font-family: Arial, sans-serif;
  background: #fff0f5;
  text-align: center;
  padding: 10px;
  overflow-x: hidden;
}
h1 { color: #d63384; margin-bottom: 5px; }
#puzzle {
  display: grid;
  grid-template-rows: repeat(10, 40px);
  grid-template-columns: repeat(10, 40px);
  gap: 2px;
  justify-content: center;
  margin-bottom: 20px;
}
.cell {
  width: 38px;
  height: 38px;
  border: 2px solid #ccc;
  border-radius: 4px;
  text-align: center;
  font-size: 20px;
  text-transform: uppercase;
}
.cell.correct { background: #d1f7d6; border-color: #28a745; }
.cell.wrong { background: #f8d7da; border-color: #dc3545; }
.cell.black { background: #444; border-color: #444; pointer-events: none; }
.cell.grey { background: #ccc; }
.cell.prefill { background: #fff; font-weight: bold; pointer-events: none; }
#clues { text-align: left; max-width: 600px; margin: auto; }
#clues h3 { margin-bottom: 5px; }
.clue-number { cursor: pointer; color: #d63384; font-weight: bold; margin-right: 8px; }
.popup, #questionPopup {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.5);
}
.popup-content, #questionPopup .popup-content {
  background: white;
  padding: 20px;
  border-radius: 15px;
  width: 80%;
  max-width: 300px;
  text-align: left;
  margin: 150px auto;
}
button.hint {
  margin-top: 10px;
  padding: 5px 10px;
  font-size: 12px;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  background: #ffc107;
}

/* Confetti + Hearts */
.confetti {
  position: fixed;
  width: 10px;
  height: 10px;
  background: red;
  top: -10px;
  z-index: 9999;
  animation: fall linear forwards;
}
@keyframes fall {
  0% { transform: translateY(0) rotate(0deg); }
  100% { transform: translateY(120vh) rotate(360deg); }
}
.heart {
  position: fixed;
  font-size: 24px;
  color: #ff4d6d;
  top: 100%;
  animation: floatUp 3s ease-out forwards;
  z-index: 9999;
}
@keyframes floatUp {
  0% { transform: translateY(0) scale(0.5); opacity:0.8; }
  100% { transform: translateY(-120vh) scale(1.2); opacity:0; }
}
</style>
</head>
<body>

<h1>‚ù§Ô∏è Love Sudoku Puzzle ‚ù§Ô∏è</h1>
<p>Fill the grey cells with the correct letters üíå</p>

<div id="puzzle"></div>

<div id="clues">
  <h3>Horizontal (Across) Clues:</h3>
  <div id="hClues"></div>
  <h3>Vertical (Down) Clues:</h3>
  <div id="vClues"></div>
</div>

<div id="questionPopup">
  <div class="popup-content">
    <p id="questionText"></p>
    <button class="hint" onclick="showHint(currentClue)">Hint üí°</button>
    <button onclick="closeQuestion()">Close ‚ùå</button>
  </div>
</div>

<div class="popup" id="popup">
  <div class="popup-content">
    <p id="hintText"></p>
    <button onclick="closeHint()">ü§ó Hug Given</button>
  </div>
</div>

<script>
// Grid setup
const ROWS=10, COLS=10;
const grid=[];
for(let r=0;r<ROWS;r++){
  grid[r]=[];
  for(let c=0;c<COLS;c++){
    const input=document.createElement("input");
    input.classList.add("cell");
    input.dataset.row=r;
    input.dataset.col=c;
    document.getElementById("puzzle").appendChild(input);
    grid[r][c]={input:input,letter:null};
  }
}

// Words with position, direction, clue, hint, prefill
const words=[
  {word:"YOU",row:0,col:2,dir:"H",clue:"The reason my bad days don‚Äôt last long",hint:"It‚Äôs you‚Ä¶ always you üíï",prefill:[0]},
  {word:"LOVE",row:0,col:2,dir:"V",clue:"The answer that connects everything",hint:"The answer is always love üíû",prefill:[1]},
  {word:"LONGTALKS",row:3,col:0,dir:"H",clue:"Our favorite way to spend time together",hint:"No phones. Just us ‚òïüí¨",prefill:[0,3]},
  {word:"CATALINAISLAND",row:5,col:0,dir:"H",clue:"The trip that changed everything for us",hint:"Ocean, memories, us üåäüíô",prefill:[0,4,8]},
  {word:"SUBBU",row:3,col:5,dir:"V",clue:"The nickname only I use for you",hint:"Said with love üòò",prefill:[2]},
  {word:"SAMBAR",row:7,col:2,dir:"H",clue:"Your favorite comfort food",hint:"Home in a bowl üç≤",prefill:[1]},
  {word:"SILENCE",row:2,col:8,dir:"V",clue:"What you do when you‚Äôre stressed",hint:"Quiet strength ü§ç",prefill:[3]},
  {word:"US",row:0,col:0,dir:"H",clue:"What I see when I imagine my future",hint:"Together, always ü´∂",prefill:[1]},
  {word:"MARRYINGYOU",row:9,col:0,dir:"H",clue:"The best decision of my life",hint:"Forever started there üíç",prefill:[0,4,8]},
  {word:"LISTEN",row:4,col:9,dir:"V",clue:"What you do when I‚Äôm upset",hint:"With patience and love üëÇ‚ù§Ô∏è",prefill:[0]},
  {word:"TIME",row:8,col:5,dir:"H",clue:"What you give when you need it most",hint:"Your most precious gift ‚è≥",prefill:[2]},
  {word:"ACTIONS",row:6,col:8,dir:"V",clue:"Your way of saying I care",hint:"You show it every day üíñ",prefill:[1]}
];

// Fill grid
words.forEach((w,idx)=>{
  for(let i=0;i<w.word.length;i++){
    let r=w.row + (w.dir==="V"?i:0);
    let c=w.col + (w.dir==="H"?i:0);
    const cell=grid[r][c];
    cell.letter=w.word[i].toUpperCase();
    if(w.prefill && w.prefill.includes(i)){
      cell.input.value=w.word[i].toUpperCase();
      cell.input.classList.add("prefill");
    } else {
      cell.input.classList.add("grey");
    }
    cell.clueIndex=idx;
  }
});

// Black cells
for(let r=0;r<ROWS;r++){
  for(let c=0;c<COLS;c++){
    if(!grid[r][c].letter){
      grid[r][c].input.classList.add("black");
      grid[r][c].input.disabled=true;
    }
  }
}

// Input checking
document.querySelectorAll(".cell").forEach(input=>{
  input.addEventListener("input",()=>{
    const r=parseInt(input.dataset.row);
    const c=parseInt(input.dataset.col);
    const val=input.value.toUpperCase();
    if(grid[r][c].letter){
      if(val===grid[r][c].letter){
        input.classList.remove("wrong");
        input.classList.add("correct");
      } else {
        input.classList.remove("correct");
        input.classList.add("wrong");
      }
      checkComplete();
    } else input.value="";
  });
});

// Clue numbers
const hCluesDiv=document.getElementById("hClues");
const vCluesDiv=document.getElementById("vClues");
words.forEach((w,idx)=>{
  const numSpan=document.createElement("span");
  numSpan.textContent = idx+1;
  numSpan.classList.add("clue-number");
  numSpan.onclick = ()=> showQuestion(idx);
  if(w.dir==="H") hCluesDiv.appendChild(numSpan);
  else vCluesDiv.appendChild(numSpan);
});

// Popup logic
let currentClue=null;
function showQuestion(idx){
  currentClue=idx;
  document.getElementById("questionText").innerHTML=words[idx].clue;
  document.getElementById("questionPopup").style.display="block";
}
function closeQuestion(){ document.getElementById("questionPopup").style.display="none"; }

function showHint(idx){
  document.getElementById("hintText").innerHTML="ü§ó <b>Hug required!</b><br><br>"+words[idx].hint;
  document.getElementById("popup").style.display="block";
}
function closeHint(){document.getElementById("popup").style.display="none";}

// Confetti + Hearts animation
function spawnConfetti(){
  for(let i=0;i<100;i++){
    const c=document.createElement("div");
    c.classList.add("confetti");
    c.style.left=Math.random()*100+"vw";
    c.style.background=['#d63384','#ffcd56','#1982c4','#6a4c93','#ff6b6b'][Math.floor(Math.random()*5)];
    c.style.animationDuration=(Math.random()*2+3)+"s";
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),5000);
  }
}
function spawnHearts(){
  for(let i=0;i<30;i++){
    const h=document.createElement("div");
    h.classList.add("heart");
    h.style.left=Math.random()*90+"vw";
    h.style.animationDelay=(Math.random()*2)+"s";
    h.textContent="‚ù§Ô∏è";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),4000);
  }
}

// Completion check
function checkComplete(){
  const allDone=[...document.querySelectorAll(".cell")].every(input=>{
    const r=parseInt(input.dataset.row);
    const c=parseInt(input.dataset.col);
    if(grid[r][c].letter) return input.value.toUpperCase()===grid[r][c].letter || input.classList.contains("prefill");
    return true;
  });
  if(allDone){
    document.getElementById("puzzle").innerHTML="";
    document.getElementById("clues").innerHTML=`
      <h2>üéâ Happyyy Birthday Babyyy üéâ</h2>
      <p>
      This is a small way to show my love for you üíñ<br>
      Every clue, every answer, every hug in this game<br>
      is a piece of my heart made just for you ü´∂<br><br>
      Thank you for being <b>YOU</b>.<br>
      I love you endlessly ‚ù§Ô∏è<br>
      Now come here‚Ä¶ real hug required ü§óüíã
      </p>
    `;
    spawnConfetti();
    spawnHearts();
  }
}
</script>

</body>
</html>
